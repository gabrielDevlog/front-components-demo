{"version":3,"sources":["../node_modules/front-components/dist/index.js","portal/main.js"],"names":["require","instantiateAt","on","eventsReceived","updateCounter","document","getElementById","innerHTML","aRoot","bRoot"],"mappings":"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","file":"main.0fb0a1cd.js","sourceRoot":"..\\src","sourcesContent":["!function(n,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"front-components\"]=e():n[\"front-components\"]=e()}(window,(function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&\"object\"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:n}),2&e&&\"string\"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,\"a\",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p=\"\",t(t.s=2)}([function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=null;e.setMountedInstance=function(n){},e.getMountedInstance=function(){return r},e.resetMountedInstance=function(){r=null}},function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=t(4);function o(){return window._FCEventBus}function u(){return r.default()}window._FCEventBus||(window._FCEventBus=u()),e.getGlobalEventBus=o,e.createEventBus=u,e.emitOnGlobalBus=function(n){return o().emit(n)},e.onEventOnGlobalBus=function(n,e){return o().on(n,e)}},function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=t(3),o=t(0),u=t(1);e.registerInstance=r.registerInstance,e.instantiateAt=r.instantiateAt,e.unmountFrom=r.unmountFom,e.emit=function(n){var e=o.getMountedInstance();return e?e.controls.events.emit(n):u.emitOnGlobalBus(n)},e.on=function(n,e){var t=o.getMountedInstance();return t?t.controls.events.on(n,e):u.onEventOnGlobalBus(n,e)},e.__getMountedInstance=o.getMountedInstance},function(n,e,t){\"use strict\";var r=this&&this.__assign||function(){return(r=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)},o=this&&this.__awaiter||function(n,e,t,r){return new(t||(t=Promise))((function(o,u){function i(n){try{s(r.next(n))}catch(n){u(n)}}function c(n){try{s(r.throw(n))}catch(n){u(n)}}function s(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,c)}s((r=r.apply(n,e||[])).next())}))},u=this&&this.__generator||function(n,e){var t,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},\"function\"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(u){return function(c){return function(u){if(t)throw new TypeError(\"Generator is already executing.\");for(;i;)try{if(t=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(n,i)}catch(n){u=[6,n],r=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};Object.defineProperty(e,\"__esModule\",{value:!0});var i=t(0),c=t(1);function s(){return window._FCStore}function a(){return{history:{push:function(){}},events:c.getGlobalEventBus()}}window._FCStore||(window._FCStore=[]),e.registerInstance=function(n){var e,t=(e=n.serviceId,s().find((function(n){return n.serviceId===e}))),o=t?t.instanceId+1:0,u=s(),c=a();u.push(r(r({},n),{instanceId:o,controls:c,setMountedInstance:i.setMountedInstance,resetMountedInstance:i.resetMountedInstance}))},e.instantiateAt=function(n,e,t){return void 0===t&&(t={isControlled:!1}),o(this,void 0,void 0,(function(){var r;return u(this,(function(o){switch(o.label){case 0:if(!(r=function(n){return s().find((function(e){return e.serviceId===n&&!e.domElement}))}(n)))throw new Error(\"No available instance for service \"+n);return r.domElement=e,r.isControlled=t.isControlled,t.isControlled&&(r.controls.events=c.createEventBus()),r.setMountedInstance(r),[4,r.mount(e)];case 1:return o.sent(),[2,r.controls]}}))}))},e.unmountFom=function(n,e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(r){switch(r.label){case 0:if(!(t=function(n,e){return s().find((function(t){return t.serviceId===n&&t.domElement===e}))}(n,e)))throw new Error(\"No mounted instance for service \"+n+\" at \"+e);return[4,t.unmount(e)];case 1:return r.sent(),t.resetMountedInstance(),t.controls=a(),t.domElement=void 0,t.isControlled=void 0,[2]}}))}))}},function(n,e,t){\"use strict\";t.r(e),e.default=function(n){return n=n||Object.create(null),{on:function(e,t){(n[e]||(n[e]=[])).push(t)},off:function(e,t){n[e]&&n[e].splice(n[e].indexOf(t)>>>0,1)},emit:function(e,t){(n[e]||[]).slice().map((function(n){n(t)})),(n[\"*\"]||[]).slice().map((function(n){n(e,t)}))}}}}])}));","const { instantiateAt, on } = require(\"front-components\");\r\n\r\n// A small event counter\r\nlet eventsReceived = 0;\r\nfunction updateCounter() {\r\n  const counter = document.getElementById(\"portal-counter\");\r\n  counter.innerHTML = `Events received in portal: ${eventsReceived}`;\r\n}\r\n\r\n// Increment counter when incoming events from a\r\non(\"from-a\", () => {\r\n  eventsReceived++;\r\n  updateCounter();\r\n});\r\n\r\n// Start service A\r\nconst aRoot = document.getElementById(\"a-root\");\r\ninstantiateAt(\"service-a\", aRoot);\r\n\r\n// Start service B\r\nconst bRoot = document.getElementById(\"b-root\");\r\ninstantiateAt(\"service-b\", bRoot);\r\n\r\n// Init event count\r\nupdateCounter();\r\n"]}