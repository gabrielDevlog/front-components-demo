parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Zat7":[function(require,module,exports) {
var define;
var n;!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof n&&n.amd?n([],e):"object"==typeof exports?exports["front-components"]=e():t["front-components"]=e()}(window,function(){return function(n){var t={};function e(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)e.d(o,r,function(t){return n[t]}.bind(null,r));return o},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=2)}([function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=null;t.setMountedInstance=function(n){},t.getMountedInstance=function(){return o},t.resetMountedInstance=function(){o=null}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e(4);function r(){return window._FCEventBus}function u(){return o.default()}window._FCEventBus||(window._FCEventBus=u()),t.getGlobalEventBus=r,t.createEventBus=u,t.emitOnGlobalBus=function(n){return r().emit(n)},t.onEventOnGlobalBus=function(n,t){return r().on(n,t)}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e(3),r=e(0),u=e(1);t.registerInstance=o.registerInstance,t.instantiateAt=o.instantiateAt,t.unmountFrom=o.unmountFom,t.emit=function(n){var t=r.getMountedInstance();return t?t.controls.events.emit(n):u.emitOnGlobalBus(n)},t.on=function(n,t){var e=r.getMountedInstance();return e?e.controls.events.on(n,t):u.onEventOnGlobalBus(n,t)},t.__getMountedInstance=r.getMountedInstance},function(n,t,e){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},r=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))(function(r,u){function i(n){try{s(o.next(n))}catch(n){u(n)}}function c(n){try{s(o.throw(n))}catch(n){u(n)}}function s(n){var t;n.done?r(n.value):(t=n.value,t instanceof e?t:new e(function(n){n(t)})).then(i,c)}s((o=o.apply(n,t||[])).next())})},u=this&&this.__generator||function(n,t){var e,o,r,u,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(u){return function(c){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,o&&(r=2&u[0]?o.return:u[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,u[1])).done)return r;switch(o=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,o=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){i.label=u[1];break}if(6===u[0]&&i.label<r[1]){i.label=r[1],r=u;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(u);break}r[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(n,i)}catch(n){u=[6,n],o=0}finally{e=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=e(0),c=e(1);function s(){return window._FCStore}function a(){return{history:{push:function(){}},events:c.getGlobalEventBus()}}window._FCStore||(window._FCStore=[]),t.registerInstance=function(n){var t,e=(t=n.serviceId,s().find(function(n){return n.serviceId===t})),r=e?e.instanceId+1:0,u=s(),c=a();u.push(o(o({},n),{instanceId:r,controls:c,setMountedInstance:i.setMountedInstance,resetMountedInstance:i.resetMountedInstance}))},t.instantiateAt=function(n,t,e){return void 0===e&&(e={isControlled:!1}),r(this,void 0,void 0,function(){var o;return u(this,function(r){switch(r.label){case 0:if(!(o=function(n){return s().find(function(t){return t.serviceId===n&&!t.domElement})}(n)))throw new Error("No available instance for service "+n);return o.domElement=t,o.isControlled=e.isControlled,e.isControlled&&(o.controls.events=c.createEventBus()),o.setMountedInstance(o),[4,o.mount(t)];case 1:return r.sent(),[2,o.controls]}})})},t.unmountFom=function(n,t){return r(this,void 0,void 0,function(){var e;return u(this,function(o){switch(o.label){case 0:if(!(e=function(n,t){return s().find(function(e){return e.serviceId===n&&e.domElement===t})}(n,t)))throw new Error("No mounted instance for service "+n+" at "+t);return[4,e.unmount(t)];case 1:return o.sent(),e.resetMountedInstance(),e.controls=a(),e.domElement=void 0,e.isControlled=void 0,[2]}})})}},function(n,t,e){"use strict";e.r(t),t.default=function(n){return n=n||Object.create(null),{on:function(t,e){(n[t]||(n[t]=[])).push(e)},off:function(t,e){n[t]&&n[t].splice(n[t].indexOf(e)>>>0,1)},emit:function(t,e){(n[t]||[]).slice().map(function(n){n(e)}),(n["*"]||[]).slice().map(function(n){n(t,e)})}}}}])});
},{}],"gGin":[function(require,module,exports) {
var e=require("front-components"),t=e.instantiateAt,n=e.on,o=0;function r(){document.getElementById("portal-counter").innerHTML="Events received in portal: ".concat(o)}n("from-a",function(){o++,r()});var c=document.getElementById("a-root");t("service-a",c);var a=document.getElementById("b-root");t("service-b",a),r();
},{"front-components":"Zat7"}]},{},["gGin"], null)
//# sourceMappingURL=/main.0fb0a1cd.js.map